<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Tugas Kelas | Murid</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap');
:root {
    --primary: #5dadec;
    --accent: #00f7ff;
    --light: #e6f7ff;
    --dark: #1a3a6a;
    --glass: rgba(255, 255, 255, 0.15);
    --error: #ff6b6b;
    --success: #2ecc71;
}
* {margin: 0;padding: 0;box-sizing: border-box;font-family: 'Zen Kaku Gothic New', sans-serif;-webkit-tap-highlight-color: transparent;}
body {
    background: linear-gradient(135deg, #0a1a2e, #1a3a6a);
    min-height: 100vh;
    color: var(--light);
    perspective: 1000px;
    touch-action: manipulation;
}
.navbar {
    background: var(--glass);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding: 12px 15px;
    display: flex;
    flex-direction: column;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 100;
}
.logo {display: flex;align-items: center;gap: 10px;margin-bottom: 10px;}
.logo-icon {
    width: 36px;height: 36px;background: var(--primary);
    border-radius: 50%;display: flex;justify-content: center;align-items: center;
    box-shadow: 0 0 15px var(--primary), inset 0 0 5px white;
}
.logo-text {font-weight: 500;text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);font-size: 16px;}
.nav-links {display: flex;overflow-x: auto;gap: 8px;padding-bottom: 5px;-webkit-overflow-scrolling: touch;}
.nav-link {
    color: var(--light);text-decoration: none;font-size: 13px;
    padding: 8px 12px;border-radius: 20px;transition: all 0.3s;white-space: nowrap;
    background: rgba(255, 255, 255, 0.05);
}
.nav-link.active {background: var(--primary);box-shadow: 0 0 10px var(--accent);}
.container {margin-top: 100px;padding: 15px;padding-bottom: 80px;}
.header-section {
    background: var(--glass);backdrop-filter: blur(12px);border-radius: 12px;
    padding: 15px;margin-bottom: 20px;border: 1px solid rgba(255, 255, 255, 0.2);
}
h1 {font-size: 20px;margin-bottom: 8px;}
.task-list {display: grid;gap: 15px;}
.task-card {
    background: var(--glass);backdrop-filter: blur(12px);border-radius: 12px;
    padding: 15px;border: 1px solid rgba(255, 255, 255, 0.2);transition: all 0.3s;
}
.task-card:hover {border-color: var(--primary);box-shadow: 0 5px 15px rgba(93, 173, 236, 0.2);}
.task-title {font-weight: 500;margin-bottom: 5px;font-size: 16px;}
.task-meta {display: flex;justify-content: space-between;font-size: 12px;opacity: 0.8;margin-bottom: 10px;}
.task-status {padding: 3px 8px;border-radius: 10px;font-size: 11px;font-weight: 500;}
.status-active {background: rgba(46, 204, 113, 0.2);color: var(--success);}
.status-expired {background: rgba(255, 107, 107, 0.2);color: var(--error);}
.task-desc {font-size: 13px;margin-bottom: 10px;opacity: 0.9;}
.task-actions {display: flex;justify-content: flex-end;margin-top: 15px;}
.btn {
    padding: 10px 15px;border-radius: 8px;border: none;cursor: pointer;
    font-size: 13px;font-weight: 500;transition: all 0.3s;min-width: 80px;
    text-align: center;display: inline-flex;align-items: center;justify-content: center;gap: 6px;
}
.btn-primary {background: var(--primary);color: white;box-shadow: 0 2px 10px rgba(93, 173, 236, 0.3);}
.btn-primary:hover {background: #4ca0d8;transform: translateY(-2px);}
.btn-accent {background: var(--accent);color: var(--dark);box-shadow: 0 2px 10px rgba(0, 247, 255, 0.3);}
.task-detail-container {
    background: var(--glass);backdrop-filter: blur(12px);border-radius: 12px;
    padding: 15px;margin-bottom: 20px;border: 1px solid rgba(255, 255, 255, 0.2);
}
.task-info {margin-bottom: 15px;}
.task-deadline {color: var(--accent);font-size: 13px;}
.submission-input {
    width: 100%;padding: 12px;background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);border-radius: 8px;
    color: white;margin-top: 10px;resize: vertical;min-height: 100px;
}
.form-actions {display: flex;justify-content: flex-end;margin-top: 20px;}
.empty-state {text-align: center;padding: 40px 20px;opacity: 0.7;}
.empty-state i {font-size: 50px;margin-bottom: 15px;color: var(--accent);}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<nav class="navbar">
    <div class="logo">
        <div class="logo-icon">üë®‚Äçüéì</div>
        <span class="logo-text">TUGAS KELAS 8D</span>
    </div>
    <div class="nav-links">
        <a href="dashboard.html" class="nav-link">DASHBOARD</a>
        <a href="kuis.html" class="nav-link">KUIS</a>
        <a href="tugas.html" class="nav-link active">TUGAS</a>
        <a href="jadwal.html" class="nav-link">JADWAL</a>
        <a href="notifikasi.html" class="nav-link">INFORMASI</a>
    </div>
</nav>

<div class="container">
    <section class="header-section">
        <h1>Daftar Tugas</h1>
        <p>Tugas yang diberikan oleh guru</p>
    </section>

    <div class="task-list" id="tasks-container">
        <div class="empty-state">
            <i class="fas fa-tasks"></i>
            <h3>Belum ada tugas</h3>
            <p>Tugas yang diberikan oleh guru akan muncul di sini</p>
        </div>
    </div>

    <div id="task-detail" style="display: none;">
        <div class="task-detail-container">
            <div class="task-info">
                <h2 id="detail-task-title"></h2>
                <div class="task-deadline" id="detail-task-deadline"></div>
                <div class="task-desc" id="detail-task-desc"></div>
            </div>

            <h3>Kirim Tugas</h3>
            <textarea class="submission-input" id="submission-text" placeholder="Tulis jawaban Anda di sini..."></textarea>

            <div class="form-actions">
                <button class="btn btn-danger" id="back-to-list">Kembali</button>
                <button class="btn btn-primary" id="submit-task">Kirim Tugas</button>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    function getTasksFromStorage() {
        return JSON.parse(localStorage.getItem('teacher_tasks')) || [];
    }
    function renderTaskList() {
        const tasks = getTasksFromStorage();
        const container = document.getElementById('tasks-container');
        if (tasks.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-tasks"></i>
                    <h3>Belum ada tugas</h3>
                    <p>Tugas yang diberikan oleh guru akan muncul di sini</p>
                </div>
            `;
            return;
        }
        container.innerHTML = tasks.map(task => {
            const now = new Date();
            const deadline = new Date(task.deadline);
            const isExpired = now > deadline;
            return `
                <div class="task-card" data-id="${task.id}">
                    <div class="task-title">${task.title}</div>
                    <div class="task-meta">
                        <span>Batas: ${formatDate(deadline)}</span>
                        <span class="task-status ${isExpired ? 'status-expired' : 'status-active'}">
                            ${isExpired ? 'TERLAMBAT' : 'AKTIF'}
                        </span>
                    </div>
                    <div class="task-desc">${task.description || 'Tidak ada deskripsi'}</div>
                    <div class="task-actions">
                        <button class="btn btn-accent view-task">
                            <i class="fas fa-eye"></i> Lihat Detail
                        </button>
                    </div>
                </div>
            `;
        }).join('');
        document.querySelectorAll('.view-task').forEach(btn => {
            btn.addEventListener('click', function() {
                const taskId = this.closest('.task-card').dataset.id;
                showTaskDetail(taskId);
            });
        });
    }
    function formatDate(date) {
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',hour: '2-digit',minute: '2-digit'};
        return date.toLocaleDateString('id-ID', options);
    }
    function showTaskDetail(taskId) {
        const tasks = getTasksFromStorage();
        const task = tasks.find(t => t.id === taskId);
        if (!task) { alert('Tugas tidak ditemukan!'); return; }
        document.getElementById('detail-task-title').textContent = task.title;
        document.getElementById('detail-task-title').setAttribute('data-id', task.id);
        document.getElementById('detail-task-deadline').textContent = `Batas waktu: ${formatDate(new Date(task.deadline))}`;
        document.getElementById('detail-task-desc').textContent = task.description || 'Tidak ada deskripsi';
        document.getElementById('tasks-container').style.display = 'none';
        document.getElementById('task-detail').style.display = 'block';
    }
    document.getElementById('back-to-list').addEventListener('click', function() {
        document.getElementById('tasks-container').style.display = 'grid';
        document.getElementById('task-detail').style.display = 'none';
    });
    document.getElementById('submit-task').addEventListener('click', function() {
        const submissionText = document.getElementById('submission-text').value;
        const taskId = document.getElementById('detail-task-title').getAttribute('data-id');
        if (!submissionText) { alert('Harap isi jawaban!'); return; }
        const submissions = JSON.parse(localStorage.getItem('task_submissions')) || {};
        const studentName = "Siswa 8D";
        if (!submissions[taskId]) { submissions[taskId] = []; }
        submissions[taskId].push({
            studentName: studentName,
            text: submissionText,
            timestamp: new Date().toISOString()
        });
        localStorage.setItem('task_submissions', JSON.stringify(submissions));
        alert('Tugas berhasil dikirim!');
        document.getElementById('submission-text').value = '';
        document.getElementById('tasks-container').style.display = 'grid';
        document.getElementById('task-detail').style.display = 'none';
    });
    renderTaskList();
});
</script>
</body>
</html>

